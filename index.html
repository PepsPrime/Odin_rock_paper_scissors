<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
</head>

<body>
    <script>
        function getComputerChoice() {
            let computerChoice = Math.random()

            if (computerChoice <= (1 / 3)) {
                return "ROCK"
            } else if (computerChoice <= 2 / 3) {
                return "PAPER"
            } else {
                return "SCISSORS"
            }
        }

        function getHumanChoice() {
            let humanChoice = prompt("Choose between : Rock, Paper and Scissors", defaultValue = "Rock")
            return humanChoice
        }

        function playGame() {
            let humanScore = 0
            let computerScore = 0

            function playRound(humanChoice, computerChoice) {

                humanChoice = humanChoice.toUpperCase()
                console.log("Computer choice :" + computerChoice)
                console.log("Your choice : " + humanChoice)
                switch (humanChoice) {
                    case "ROCK":
                        if (computerChoice == "PAPER") {
                            console.log("You loose !")
                            computerScore++
                        } else if (computerChoice == "SCISSORS") {
                            console.log("You won !")
                            humanScore++
                        } else {
                            console.log("Ex aequo")
                        }
                        break
                    case "PAPER":
                        if (computerChoice == "PAPER") {
                            console.log("Ex aequo!")
                        } else if (computerChoice == "SCISSORS") {
                            console.log("You loose !")
                            computerScore++
                        } else {
                            console.log("You won !")
                            humanScore++
                        }
                        break
                    case "SCISSORS":
                        if (computerChoice == "PAPER") {
                            console.log("You won!")
                            humanScore++
                        } else if (computerChoice == "SCISSORS") {
                            console.log("Ex aequo!")
                        } else {
                            console.log("You loose !")
                            computerScore++
                        }
                        break
                    default:
                        console.log("Unknown choice")
                }
            }
            for (i=0;i<5;i++){
                console.log(`Manche ${i+1}\nVous : ${humanScore}\nOrdinateur : ${computerScore}`)
                playRound(getHumanChoice(),getComputerChoice())

            }
            console.log(`\nFinal score !\nVous : ${humanScore}\nOrdinateur : ${computerScore}`)

            if (computerScore > humanScore) {
                console.log("You loose the match")
            } else if (computerScore < humanScore) {
                console.log("You won the match!")
            } else console.log("Ex aequo")

        }
        playGame()
    </script>
</body>

</html>